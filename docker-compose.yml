version: '3.1'

networks:
    hadoop-net:
        driver: bridge

services:

  masternode:
    build: ./masternode
    image: masternode-image:latest
    container_name: masternode
    hostname: masternode
    command: /opt/bd/start-daemons.sh
    ports:
        - "9870:9870"
        - "8088:8088"
        - "4040:4040"
    networks:
        - hadoop-net

  workernode1:
    build: ./workernode
    image: workernode-image:latest
    container_name: workernode
    hostname: workernode
    command: /opt/bd/start-daemons.sh
    networks:
        - hadoop-net

  workernode2:
    image: workernode-image:latest
    container_name: workernode2
    hostname: workernode2
    command: /opt/bd/start-daemons.sh
    networks:
       - hadoop-net
       
  workernode3:
     image: workernode-image:latest
     container_name: workernode3
     hostname: workernode3
     command: /opt/bd/start-daemons.sh
     networks:
        - hadoop-net
        